{"ast":null,"code":"var _jsxFileName = \"E:\\\\H\\u1ECDc T\\u1EADp\\\\React-Redux\\\\react-app\\\\src\\\\Component\\\\TaskTable.js\";\nimport React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Col from \"react-bootstrap/Col\";\nimport Table from \"react-bootstrap/Table\";\nimport * as signalR from \"@microsoft/signalr\";\nimport connection from \"../Reducer/ConnectHub\";\nimport TaskRow from \"./TaskRow\";\nimport { connect } from \"react-redux\";\nimport * as Action from \"../Actions/index\";\n\nclass TaskTable extends Component {\n  // UNSAFE_componentWillMount() {\n  //     const connection = new signalR.HubConnectionBuilder()\n  //         .withUrl(\"http://localhost:5000/chathub\")\n  //         .configureLogging(signalR.LogLevel.Information)\n  //         .build();\n  //     async function start() {\n  //         try {\n  //             await connection.start();\n  //             console.log(\"connected table\");\n  //         } catch (err) {\n  //             console.log(err);\n  //             setTimeout(() => start(), 5000);\n  //         }\n  //     }\n  //     connection.onclose(async () => {\n  //         await start();\n  //     });\n  //     // Start the connection.\n  //     start();\n  // }\n  render() {\n    console.log(\"table-render\");\n    connection.on(\"ReceiveMessage\", message => {\n      console.log(\"đã nhận:\", message);\n      fetch(URL.URL_API).then(response => {\n        response.json();\n        console.log(response);\n      }).catch(e => {\n        console.error(\"Err\", e);\n      }).then(data => {\n        // console.log(data);\n        localStorage.setItem(\"Tasks\", JSON.stringify(data)); // Cookies.set(\"Task\", data);\n        // console.log(localStorage.getItem(\"Tasks\"));\n      }).then(() => {\n        this.props.resetTask();\n      });\n    }); // console.log(this.props.Task);\n\n    const taskList = this.props.Task.map((task, index) => {\n      // console.log(connection);\n      return /*#__PURE__*/React.createElement(TaskRow // connection={this.connection}\n      , {\n        key: index,\n        index: index,\n        task: task,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      });\n    });\n    console.log(\"table-render\");\n    return /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      as: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, \"List Task\"), /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      variant: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"10%\"\n      },\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }\n    }, \"Task\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"20%\"\n      },\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, \"Level\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"20%\"\n      },\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, taskList)))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  Task: state.TaskList // isEdit: state.ToggleEdit,\n  // editName: state.EditTask.name,\n  // newName: state.NewTask.name,\n\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    toggleEdit: () => {\n      dispatch(Action.toggleEdit());\n    },\n    resetTask: () => {\n      dispatch(Action.resetTask());\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskTable);","map":{"version":3,"sources":["E:/Học Tập/React-Redux/react-app/src/Component/TaskTable.js"],"names":["React","Component","Card","Col","Table","signalR","connection","TaskRow","connect","Action","TaskTable","render","console","log","on","message","fetch","URL","URL_API","then","response","json","catch","e","error","data","localStorage","setItem","JSON","stringify","props","resetTask","taskList","Task","map","task","index","width","mapStateToProps","state","TaskList","mapDispatchToProps","dispatch","toggleEdit"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport * as signalR from \"@microsoft/signalr\";\r\nimport connection from \"../Reducer/ConnectHub\";\r\n\r\nimport TaskRow from \"./TaskRow\";\r\nimport { connect } from \"react-redux\";\r\nimport * as Action from \"../Actions/index\";\r\n\r\nclass TaskTable extends Component {\r\n    // UNSAFE_componentWillMount() {\r\n    //     const connection = new signalR.HubConnectionBuilder()\r\n    //         .withUrl(\"http://localhost:5000/chathub\")\r\n    //         .configureLogging(signalR.LogLevel.Information)\r\n    //         .build();\r\n\r\n    //     async function start() {\r\n    //         try {\r\n    //             await connection.start();\r\n    //             console.log(\"connected table\");\r\n    //         } catch (err) {\r\n    //             console.log(err);\r\n    //             setTimeout(() => start(), 5000);\r\n    //         }\r\n    //     }\r\n\r\n    //     connection.onclose(async () => {\r\n    //         await start();\r\n    //     });\r\n\r\n    //     // Start the connection.\r\n    //     start();\r\n    // }\r\n\r\n    render() {\r\n        console.log(\"table-render\");\r\n        connection.on(\"ReceiveMessage\", (message) => {\r\n            console.log(\"đã nhận:\", message);\r\n            fetch(URL.URL_API)\r\n                .then((response) => {\r\n                    response.json();\r\n                    console.log(response);\r\n                })\r\n                .catch((e) => {\r\n                    console.error(\"Err\", e);\r\n                })\r\n                .then((data) => {\r\n                    // console.log(data);\r\n                    localStorage.setItem(\"Tasks\", JSON.stringify(data));\r\n                    // Cookies.set(\"Task\", data);\r\n                    // console.log(localStorage.getItem(\"Tasks\"));\r\n                })\r\n                .then(() => {\r\n                    this.props.resetTask();\r\n                });\r\n        });\r\n        // console.log(this.props.Task);\r\n\r\n        const taskList = this.props.Task.map((task, index) => {\r\n            // console.log(connection);\r\n            return (\r\n                <TaskRow\r\n                    // connection={this.connection}\r\n                    key={index}\r\n                    index={index}\r\n                    task={task}\r\n                ></TaskRow>\r\n            );\r\n        });\r\n        console.log(\"table-render\");\r\n        return (\r\n            <Col>\r\n                <Card>\r\n                    <Card.Body>\r\n                        <Card.Header as=\"h3\">List Task</Card.Header>\r\n                        <Table striped bordered hover variant=\"dark\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{ width: \"10%\" }}\r\n                                        className=\"text-center\"\r\n                                    >\r\n                                        #\r\n                                    </th>\r\n                                    <th>Task</th>\r\n                                    <th\r\n                                        style={{ width: \"20%\" }}\r\n                                        className=\"text-center\"\r\n                                    >\r\n                                        Level\r\n                                    </th>\r\n                                    <th\r\n                                        style={{ width: \"20%\" }}\r\n                                        className=\"text-center\"\r\n                                    >\r\n                                        Action\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>{taskList}</tbody>\r\n                        </Table>\r\n                    </Card.Body>\r\n                </Card>\r\n            </Col>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    Task: state.TaskList,\r\n    // isEdit: state.ToggleEdit,\r\n    // editName: state.EditTask.name,\r\n    // newName: state.NewTask.name,\r\n});\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        toggleEdit: () => {\r\n            dispatch(Action.toggleEdit());\r\n        },\r\n        resetTask: () => {\r\n            dispatch(Action.resetTask());\r\n        },\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskTable);\r\n"]},"metadata":{},"sourceType":"module"}