{"ast":null,"code":"var _jsxFileName = \"E:\\\\H\\u1ECDc T\\u1EADp\\\\Web\\\\React\\\\react-app\\\\src\\\\Component\\\\TaskTable.js\";\nimport React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Col from \"react-bootstrap/Col\";\nimport Table from \"react-bootstrap/Table\";\nimport Badge from \"react-bootstrap/Badge\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\"; // import TaskList from \"../Tasks/Task.json\";\n\nexport default class TaskTable extends Component {\n  constructor(props) {\n    super(props); // localStorage.setItem(\"Tasks\", JSON.stringify(TaskList.Task));\n\n    this.addTask = this.addTask.bind(this);\n    this.delete = this.delete.bind(this);\n    this.update = this.update.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.nameChange = this.nameChange.bind(this);\n    this.levelChange = this.levelChange.bind(this);\n    const local = localStorage.getItem(\"Tasks\");\n    this.state = {\n      Task: JSON.parse(local),\n      newTask: this.props.newTask,\n      isEdit: false,\n      editName: \"\",\n      newName: \"\",\n      newLevel: 1\n    }; //console.log(this.state.TaskList.Task);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.newTask !== null) {\n      // this.addTask(nextProps.newTask);\n      this.addTask(nextProps.newTask);\n    }\n\n    if (nextProps.updateTask !== null) {\n      this.update(nextProps.updateTask.oldName, nextProps.updateTask.name, nextProps.updateTask.level);\n    }\n  }\n\n  componentDidUpdate() {\n    // console.log(\"local save : \", JSON.stringify(this.state.Task));\n    localStorage.setItem(\"Tasks\", JSON.stringify(this.state.Task));\n  }\n\n  update(oldName, newName, newLevel) {\n    // console.log(oldName, newName, newLevel);\n    // const index = this.state.Task.findIndex((task) => task.name == oldName);\n    const tmpArr = this.state.Task.map(task => {\n      if (task.name === oldName) {\n        return {\n          name: newName,\n          level: newLevel\n        };\n      } else return task;\n    });\n    this.setState({\n      Task: tmpArr\n    }); //console.log(tmpArr);\n    // this.state.Task[index].name = newName;\n    // this.state.Task[index].level = newLevel;\n  }\n\n  delete(name) {\n    // console.log(\"delete\");\n    const tmpArr = this.state.Task.filter(task => {\n      return task.name !== name;\n    });\n    this.setState({\n      Task: tmpArr\n    });\n  }\n\n  handleEdit(name, level) {\n    this.setState({\n      editName: name,\n      newName: name,\n      newLevel: level,\n      isEdit: true\n    }); // console.log(\"edit\", name, \" \", level);\n\n    this.props.setNameAndLevel(name, level);\n  }\n\n  nameChange(e) {\n    this.setState({\n      newName: e.target.value,\n      isEdit: true\n    });\n  }\n\n  isEditName(task) {\n    if (task.name !== this.state.editName || this.state.isEdit === false) {\n      // console.log(\"nor \", task.name);\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 20\n        }\n      }, task.name);\n    } else if (this.state.isEdit === true) {\n      // console.log(\"text \", task.name);\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"text\",\n        value: this.state.newName,\n        onChange: this.nameChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  levelChange(e) {\n    this.setState({\n      newLevel: e.target.value\n    });\n  }\n\n  isEditLevel(task) {\n    if (task.name !== this.state.editName || this.state.isEdit === false) {\n      console.log(\"nor \", task.name);\n      return /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 20\n        }\n      }, this.level(task.level));\n    } else if (this.state.isEdit === true) {\n      console.log(\"select \", task.name);\n      return /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        value: task.newLevel,\n        as: \"select\",\n        name: \"ds\",\n        id: \"inputDs\",\n        onChange: this.levelChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }\n      }, \"Low\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }\n      }, \"Medium\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }\n      }, \"High\")));\n    }\n  }\n\n  addTask(newTask) {\n    // console.log(newTask);\n    if (newTask !== null) {\n      const taskListAdded = [...this.state.Task, ...newTask]; //localStorage.setItem(\"Tasks\", JSON.stringify(taskListAdded));\n\n      this.setState({\n        Task: taskListAdded\n      });\n      this.props.resetNewTask();\n      return taskListAdded;\n    } else return this.state.Task;\n  }\n\n  level(level) {\n    switch (level) {\n      case 1:\n        return /*#__PURE__*/React.createElement(Badge, {\n          variant: \"light\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 24\n          }\n        }, \"Low\");\n\n      case 2:\n        return /*#__PURE__*/React.createElement(Badge, {\n          variant: \"info\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 24\n          }\n        }, \"Medium\");\n\n      case 3:\n        return /*#__PURE__*/React.createElement(Badge, {\n          variant: \"danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 24\n          }\n        }, \"High\");\n\n      default:\n        return /*#__PURE__*/React.createElement(Badge, {\n          variant: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 24\n          }\n        }, \"No Level\");\n    }\n  }\n\n  sort(arr, by, dir) {\n    switch (by) {\n      case \"Name\":\n        switch (dir) {\n          case \"DESC\":\n            return arr.sort((a, b) => {\n              // console.log(\"DESC\", a.name - b.name);\n              if (b.name < a.name) {\n                return -1;\n              }\n\n              if (b.name > a.name) {\n                return 1;\n              } // name trùng nhau\n\n\n              return 0; // return b.name - a.name;\n            });\n\n          default:\n            return arr.sort((a, b) => {\n              // console.log(\"ASC\", a.name - b.name);\n              if (b.name < a.name) {\n                return 1;\n              }\n\n              if (b.name > a.name) {\n                return -1;\n              }\n\n              return 0;\n            });\n        }\n\n      default:\n        switch (dir) {\n          case \"DESC\":\n            return arr.sort((a, b) => {\n              return b.level - a.level;\n            });\n\n          default:\n            return arr.sort((a, b) => {\n              return a.level - b.level;\n            });\n        }\n\n    }\n  }\n\n  render() {\n    console.log(this.props.newLevel); // console.log(\"render\");\n    // if (this.props.newTask !== null) {\n    //     const taskListAdded = [...this.state.Task, ...this.props.newTask];\n    //     console.log(taskListAdded);\n    // }\n\n    const taskListSearched = this.state.Task.filter(task => {\n      return task.name.toLowerCase().includes(this.props.search.toLowerCase());\n    }); // const taskListSearched = this.state.Task.filter((task) => {\n    //     return task.name\n    //         .toLowerCase()\n    //         .includes(this.props.search.toLowerCase());\n    // });\n\n    const taskListSorted = this.sort(taskListSearched, this.props.by, this.props.dir); // console.log(taskListSorted);\n\n    const taskList = taskListSorted.map((task, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }\n      }, index + 1), this.isEditName(task), this.isEditLevel(task), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ButtonGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"warning\",\n        onClick: () => this.handleEdit(task.name, task.level),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 29\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"danger\",\n        onClick: () => {\n          return this.delete(task.name);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 29\n        }\n      }, \"Delete\"))));\n    });\n    return /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 25\n      }\n    }, \"List Task\"), /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      variant: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"10%\"\n      },\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 37\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 37\n      }\n    }, \"Task\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"20%\"\n      },\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 37\n      }\n    }, \"Level\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        width: \"20%\"\n      },\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 37\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 29\n      }\n    }, taskList)))));\n  }\n\n}","map":{"version":3,"sources":["E:/Học Tập/Web/React/react-app/src/Component/TaskTable.js"],"names":["React","Component","Card","Col","Table","Badge","ButtonGroup","Form","Button","TaskTable","constructor","props","addTask","bind","delete","update","handleEdit","nameChange","levelChange","local","localStorage","getItem","state","Task","JSON","parse","newTask","isEdit","editName","newName","newLevel","UNSAFE_componentWillReceiveProps","nextProps","updateTask","oldName","name","level","componentDidUpdate","setItem","stringify","tmpArr","map","task","setState","filter","setNameAndLevel","e","target","value","isEditName","isEditLevel","console","log","taskListAdded","resetNewTask","sort","arr","by","dir","a","b","render","taskListSearched","toLowerCase","includes","search","taskListSorted","taskList","index","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Badge from \"react-bootstrap/Badge\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\n// import TaskList from \"../Tasks/Task.json\";\r\nexport default class TaskTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // localStorage.setItem(\"Tasks\", JSON.stringify(TaskList.Task));\r\n        this.addTask = this.addTask.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n        this.update = this.update.bind(this);\r\n        this.handleEdit = this.handleEdit.bind(this);\r\n        this.nameChange = this.nameChange.bind(this);\r\n        this.levelChange = this.levelChange.bind(this);\r\n        const local = localStorage.getItem(\"Tasks\");\r\n        this.state = {\r\n            Task: JSON.parse(local),\r\n            newTask: this.props.newTask,\r\n            isEdit: false,\r\n            editName: \"\",\r\n            newName: \"\",\r\n            newLevel: 1,\r\n        };\r\n\r\n        //console.log(this.state.TaskList.Task);\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        if (nextProps.newTask !== null) {\r\n            // this.addTask(nextProps.newTask);\r\n            this.addTask(nextProps.newTask);\r\n        }\r\n        if (nextProps.updateTask !== null) {\r\n            this.update(\r\n                nextProps.updateTask.oldName,\r\n                nextProps.updateTask.name,\r\n                nextProps.updateTask.level\r\n            );\r\n        }\r\n    }\r\n    componentDidUpdate() {\r\n        // console.log(\"local save : \", JSON.stringify(this.state.Task));\r\n        localStorage.setItem(\"Tasks\", JSON.stringify(this.state.Task));\r\n    }\r\n\r\n    update(oldName, newName, newLevel) {\r\n        // console.log(oldName, newName, newLevel);\r\n        // const index = this.state.Task.findIndex((task) => task.name == oldName);\r\n        const tmpArr = this.state.Task.map((task) => {\r\n            if (task.name === oldName) {\r\n                return { name: newName, level: newLevel };\r\n            } else return task;\r\n        });\r\n        this.setState({\r\n            Task: tmpArr,\r\n        });\r\n        //console.log(tmpArr);\r\n        // this.state.Task[index].name = newName;\r\n        // this.state.Task[index].level = newLevel;\r\n    }\r\n\r\n    delete(name) {\r\n        // console.log(\"delete\");\r\n        const tmpArr = this.state.Task.filter((task) => {\r\n            return task.name !== name;\r\n        });\r\n        this.setState({\r\n            Task: tmpArr,\r\n        });\r\n    }\r\n\r\n    handleEdit(name, level) {\r\n        this.setState({\r\n            editName: name,\r\n            newName: name,\r\n            newLevel: level,\r\n            isEdit: true,\r\n        });\r\n\r\n        // console.log(\"edit\", name, \" \", level);\r\n        this.props.setNameAndLevel(name, level);\r\n    }\r\n\r\n    nameChange(e) {\r\n        this.setState({\r\n            newName: e.target.value,\r\n            isEdit: true,\r\n        });\r\n    }\r\n\r\n    isEditName(task) {\r\n        if (task.name !== this.state.editName || this.state.isEdit === false) {\r\n            // console.log(\"nor \", task.name);\r\n            return <td>{task.name}</td>;\r\n        } else if (this.state.isEdit === true) {\r\n            // console.log(\"text \", task.name);\r\n            return (\r\n                <td>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        value={this.state.newName}\r\n                        onChange={this.nameChange}\r\n                    ></Form.Control>\r\n                </td>\r\n            );\r\n        }\r\n    }\r\n\r\n    levelChange(e) {\r\n        this.setState({\r\n            newLevel: e.target.value,\r\n        });\r\n    }\r\n\r\n    isEditLevel(task) {\r\n        if (task.name !== this.state.editName || this.state.isEdit === false) {\r\n            console.log(\"nor \", task.name);\r\n            return <td className=\"text-center\">{this.level(task.level)}</td>;\r\n        } else if (this.state.isEdit === true) {\r\n            console.log(\"select \", task.name);\r\n            return (\r\n                <td className=\"text-center\">\r\n                    <Form.Control\r\n                        value={task.newLevel}\r\n                        as=\"select\"\r\n                        name=\"ds\"\r\n                        id=\"inputDs\"\r\n                        onChange={this.levelChange}\r\n                    >\r\n                        <option value={1}>Low</option>\r\n                        <option value={2}>Medium</option>\r\n                        <option value={3}>High</option>\r\n                    </Form.Control>\r\n                </td>\r\n            );\r\n        }\r\n    }\r\n\r\n    addTask(newTask) {\r\n        // console.log(newTask);\r\n        if (newTask !== null) {\r\n            const taskListAdded = [...this.state.Task, ...newTask];\r\n            //localStorage.setItem(\"Tasks\", JSON.stringify(taskListAdded));\r\n            this.setState({\r\n                Task: taskListAdded,\r\n            });\r\n            this.props.resetNewTask();\r\n            return taskListAdded;\r\n        } else return this.state.Task;\r\n    }\r\n\r\n    level(level) {\r\n        switch (level) {\r\n            case 1:\r\n                return <Badge variant=\"light\">Low</Badge>;\r\n            case 2:\r\n                return <Badge variant=\"info\">Medium</Badge>;\r\n            case 3:\r\n                return <Badge variant=\"danger\">High</Badge>;\r\n            default:\r\n                return <Badge variant=\"primary\">No Level</Badge>;\r\n        }\r\n    }\r\n\r\n    sort(arr, by, dir) {\r\n        switch (by) {\r\n            case \"Name\":\r\n                switch (dir) {\r\n                    case \"DESC\":\r\n                        return arr.sort((a, b) => {\r\n                            // console.log(\"DESC\", a.name - b.name);\r\n                            if (b.name < a.name) {\r\n                                return -1;\r\n                            }\r\n                            if (b.name > a.name) {\r\n                                return 1;\r\n                            }\r\n\r\n                            // name trùng nhau\r\n                            return 0;\r\n                            // return b.name - a.name;\r\n                        });\r\n\r\n                    default:\r\n                        return arr.sort((a, b) => {\r\n                            // console.log(\"ASC\", a.name - b.name);\r\n                            if (b.name < a.name) {\r\n                                return 1;\r\n                            }\r\n                            if (b.name > a.name) {\r\n                                return -1;\r\n                            }\r\n                            return 0;\r\n                        });\r\n                }\r\n\r\n            default:\r\n                switch (dir) {\r\n                    case \"DESC\":\r\n                        return arr.sort((a, b) => {\r\n                            return b.level - a.level;\r\n                        });\r\n\r\n                    default:\r\n                        return arr.sort((a, b) => {\r\n                            return a.level - b.level;\r\n                        });\r\n                }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.newLevel);\r\n        // console.log(\"render\");\r\n        // if (this.props.newTask !== null) {\r\n        //     const taskListAdded = [...this.state.Task, ...this.props.newTask];\r\n        //     console.log(taskListAdded);\r\n        // }\r\n\r\n        const taskListSearched = this.state.Task.filter((task) => {\r\n            return task.name\r\n                .toLowerCase()\r\n                .includes(this.props.search.toLowerCase());\r\n        });\r\n\r\n        // const taskListSearched = this.state.Task.filter((task) => {\r\n        //     return task.name\r\n        //         .toLowerCase()\r\n        //         .includes(this.props.search.toLowerCase());\r\n        // });\r\n\r\n        const taskListSorted = this.sort(\r\n            taskListSearched,\r\n            this.props.by,\r\n            this.props.dir\r\n        );\r\n        // console.log(taskListSorted);\r\n\r\n        const taskList = taskListSorted.map((task, index) => {\r\n            return (\r\n                <tr key={index}>\r\n                    <td className=\"text-center\">{index + 1}</td>\r\n                    {this.isEditName(task)}\r\n                    {this.isEditLevel(task)}\r\n                    {/* <td>{task.name}</td> */}\r\n                    {/* <td className=\"text-center\">{this.level(task.level)}</td> */}\r\n                    <td className=\"text-center\">\r\n                        <ButtonGroup>\r\n                            <Button\r\n                                variant=\"warning\"\r\n                                onClick={() =>\r\n                                    this.handleEdit(task.name, task.level)\r\n                                }\r\n                            >\r\n                                Edit\r\n                            </Button>\r\n                            <Button\r\n                                variant=\"danger\"\r\n                                onClick={() => {\r\n                                    return this.delete(task.name);\r\n                                }}\r\n                            >\r\n                                Delete\r\n                            </Button>\r\n                        </ButtonGroup>\r\n                    </td>\r\n                </tr>\r\n            );\r\n        });\r\n        return (\r\n            <Col>\r\n                <Card>\r\n                    <Card.Body>\r\n                        <Card.Header>List Task</Card.Header>\r\n                        <Table striped bordered hover variant=\"dark\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th\r\n                                        style={{ width: \"10%\" }}\r\n                                        className=\"text-center\"\r\n                                    >\r\n                                        #\r\n                                    </th>\r\n                                    <th>Task</th>\r\n                                    <th\r\n                                        style={{ width: \"20%\" }}\r\n                                        className=\"text-center\"\r\n                                    >\r\n                                        Level\r\n                                    </th>\r\n                                    <th\r\n                                        style={{ width: \"20%\" }}\r\n                                        className=\"text-center\"\r\n                                    >\r\n                                        Action\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>{taskList}</tbody>\r\n                        </Table>\r\n                    </Card.Body>\r\n                </Card>\r\n            </Col>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}