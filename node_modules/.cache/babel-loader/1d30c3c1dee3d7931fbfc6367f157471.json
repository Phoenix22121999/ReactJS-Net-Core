{"ast":null,"code":"var _jsxFileName = \"E:\\\\H\\u1ECDc T\\u1EADp\\\\React-Redux\\\\react-app\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Title from \"./Component/Title\";\nimport Search from \"./Component/Search\";\nimport SortDropDown from \"./Component/SortDropDown\";\nimport * as Action from \"./Actions/index\";\nimport * as URL from \"./Const/URL\";\nimport AddTaskButton from \"./Component/AddTaskButton\"; // import AddTaskForm from \"./Component/AddTaskForm\";\n\nimport TaskTable from \"./Component/TaskTable\";\nimport ShowChartButton from \"./Component/ShowChartButton\";\nimport AddTaskReduxForm from \"./Component/AddTaskReduxForm\";\nimport Chart from \"./Component/Chart\";\nimport { connect } from \"react-redux\";\nimport SignInSignUpRouter from \"./Component/SignInSignUpRouter\";\nimport { Badge } from \"react-bootstrap\"; // import { Values } from \"redux-form-website-template\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.AddTask = this.AddTask.bind(this);\n    this.checkLogin = this.checkLogin.bind(this);\n  }\n\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async AddTask(Values) {\n    console.log(Values);\n    let tl = JSON.parse(localStorage.getItem(\"Tasks\"));\n    let lastTask = tl[tl.length - 1];\n    this.props.addTaskAction({\n      id: parseInt(lastTask.id + 1),\n      name: Values.name,\n      level: parseInt(Values.level)\n    });\n    this.props.closeFormAction();\n    await this.sleep(750);\n    this.props.updateChart();\n  }\n\n  checkLogin() {\n    fetch(URL.URL_CHECK_LOGIN, {\n      method: \"GET\"\n    }).then(Response => Response.json()).then(data => {\n      if (data.userName === null) {\n        this.props.NotLogin();\n      } else {\n        this.props.updateUser(data.userName);\n        this.props.IsLogin();\n      }\n    });\n  }\n\n  logout() {\n    fetch(URL.URL_LOGOUT, {\n      method: \"GET\"\n    }).then(Response => Response.json()).then(data => {\n      // console.log(data);\n      // console.log(data.isCompleted);\n      if (data.isCompleted) {\n        this.props.NotLogin();\n      }\n    });\n  }\n\n  UNSAFE_componentWillMount() {\n    this.checkLogin();\n  }\n\n  render() {\n    console.log(\"render App\");\n\n    if (this.props.showForm) {\n      // console.log(\"d\");\n      var form = /*#__PURE__*/React.createElement(AddTaskReduxForm, {\n        form: \"AddForm\",\n        onSubmit: this.AddTask,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      });\n    } else form = null;\n\n    if (this.props.showChart) {\n      var chart = /*#__PURE__*/React.createElement(Chart, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }\n      }, \" \");\n    } else chart = null;\n\n    if (this.props.isLogin) {\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, {\n        expand: \"md\",\n        expanded: true // style={{ backgroundColor: \"red\" }}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n        className: \"justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Navbar.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Badge, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 37\n        }\n      }, this.props.userName.username))), /*#__PURE__*/React.createElement(Nav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }\n      }, \" \", /*#__PURE__*/React.createElement(Nav.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: () => {\n          this.logout();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 37\n        }\n      }, \"Logout\"))))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Search, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(SortDropDown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(ShowChartButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(AddTaskButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }\n      }, form), /*#__PURE__*/React.createElement(Row, {\n        style: {\n          backgroundColor: \"#1b262c\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          margin: \"1rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      }, chart), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(TaskTable, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      })));\n    } else return /*#__PURE__*/React.createElement(SignInSignUpRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 23\n      }\n    });\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch, props) {\n  return {\n    addTaskAction: task => {\n      dispatch(Action.addTask(task));\n    },\n    closeFormAction: () => {\n      dispatch(Action.closeForm());\n    },\n    setNewTask: task => {\n      dispatch(Action.setNewTask(task));\n    },\n    updateChart: () => {\n      dispatch(Action.resetChart());\n    },\n    ToggleLogin: () => {\n      dispatch(Action.toggleLogin());\n    },\n    IsLogin: () => {\n      dispatch(Action.isLogin());\n    },\n    NotLogin: () => {\n      dispatch(Action.notLogin());\n    },\n    updateUser: username => {\n      dispatch(Action.updateUser(username));\n    }\n  };\n}\n\nconst mapStateToProps = state => ({\n  isLogin: state.IsLogin,\n  showForm: state.ToggleForm,\n  showChart: state.ToggleChart,\n  userName: state.LoginUserName\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["E:/Học Tập/React-Redux/react-app/src/App.js"],"names":["React","Component","Container","Row","Button","Nav","Navbar","Title","Search","SortDropDown","Action","URL","AddTaskButton","TaskTable","ShowChartButton","AddTaskReduxForm","Chart","connect","SignInSignUpRouter","Badge","App","constructor","props","AddTask","bind","checkLogin","sleep","ms","Promise","resolve","setTimeout","Values","console","log","tl","JSON","parse","localStorage","getItem","lastTask","length","addTaskAction","id","parseInt","name","level","closeFormAction","updateChart","fetch","URL_CHECK_LOGIN","method","then","Response","json","data","userName","NotLogin","updateUser","IsLogin","logout","URL_LOGOUT","isCompleted","UNSAFE_componentWillMount","render","showForm","form","showChart","chart","isLogin","username","backgroundColor","alignItems","justifyContent","margin","mapDispatchToProps","dispatch","task","addTask","closeForm","setNewTask","resetChart","ToggleLogin","toggleLogin","notLogin","mapStateToProps","state","ToggleForm","ToggleChart","LoginUserName"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Title from \"./Component/Title\";\nimport Search from \"./Component/Search\";\nimport SortDropDown from \"./Component/SortDropDown\";\nimport * as Action from \"./Actions/index\";\nimport * as URL from \"./Const/URL\";\nimport AddTaskButton from \"./Component/AddTaskButton\";\n// import AddTaskForm from \"./Component/AddTaskForm\";\nimport TaskTable from \"./Component/TaskTable\";\nimport ShowChartButton from \"./Component/ShowChartButton\";\nimport AddTaskReduxForm from \"./Component/AddTaskReduxForm\";\nimport Chart from \"./Component/Chart\";\nimport { connect } from \"react-redux\";\nimport SignInSignUpRouter from \"./Component/SignInSignUpRouter\";\nimport { Badge } from \"react-bootstrap\";\n\n// import { Values } from \"redux-form-website-template\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n\n        this.AddTask = this.AddTask.bind(this);\n        this.checkLogin = this.checkLogin.bind(this);\n    }\n\n    sleep(ms) {\n        return new Promise((resolve) => setTimeout(resolve, ms));\n    }\n    async AddTask(Values) {\n        console.log(Values);\n        let tl = JSON.parse(localStorage.getItem(\"Tasks\"));\n        let lastTask = tl[tl.length - 1];\n        this.props.addTaskAction({\n            id: parseInt(lastTask.id + 1),\n            name: Values.name,\n            level: parseInt(Values.level),\n        });\n        this.props.closeFormAction();\n        await this.sleep(750);\n        this.props.updateChart();\n    }\n    checkLogin() {\n        fetch(URL.URL_CHECK_LOGIN, {\n            method: \"GET\",\n        })\n            .then((Response) => Response.json())\n            .then((data) => {\n                if (data.userName === null) {\n                    this.props.NotLogin();\n                } else {\n                    this.props.updateUser(data.userName);\n                    this.props.IsLogin();\n                }\n            });\n    }\n\n    logout() {\n        fetch(URL.URL_LOGOUT, {\n            method: \"GET\",\n        })\n            .then((Response) => Response.json())\n            .then((data) => {\n                // console.log(data);\n                // console.log(data.isCompleted);\n                if (data.isCompleted) {\n                    this.props.NotLogin();\n                }\n            });\n    }\n\n    UNSAFE_componentWillMount() {\n        this.checkLogin();\n    }\n\n    render() {\n        console.log(\"render App\");\n        if (this.props.showForm) {\n            // console.log(\"d\");\n            var form = (\n                <AddTaskReduxForm\n                    form=\"AddForm\"\n                    onSubmit={this.AddTask}\n                ></AddTaskReduxForm>\n            );\n        } else form = null;\n\n        if (this.props.showChart) {\n            var chart = <Chart> </Chart>;\n        } else chart = null;\n        if (this.props.isLogin) {\n            return (\n                <Container>\n                    {/* <Values form=\"row\" /> */}\n                    <Navbar\n                        expand=\"md\"\n                        expanded={true}\n                        // style={{ backgroundColor: \"red\" }}\n                    >\n                        <Navbar.Brand>\n                            <Title></Title>\n                        </Navbar.Brand>\n                        <Navbar.Collapse className=\"justify-content-end\">\n                            <Navbar.Text>\n                                <h4>\n                                    <Badge>\n                                        {this.props.userName.username}\n                                    </Badge>\n                                </h4>\n                            </Navbar.Text>\n                            <Nav>\n                                {\" \"}\n                                <Nav.Item>\n                                    <Button\n                                        onClick={() => {\n                                            this.logout();\n                                        }}\n                                    >\n                                        Logout\n                                    </Button>\n                                </Nav.Item>\n                            </Nav>\n                        </Navbar.Collapse>\n                    </Navbar>\n                    {/* <Row>\n                        <Button></Button>\n                    </Row> */}\n\n                    <Row>\n                        <Search></Search>\n                        <SortDropDown></SortDropDown>\n                        <ShowChartButton></ShowChartButton>\n                        <AddTaskButton></AddTaskButton>\n                    </Row>\n\n                    <Row>{form}</Row>\n                    {/* <Chart> </Chart> */}\n                    <Row\n                        style={{\n                            backgroundColor: \"#1b262c\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            margin: \"1rem\",\n                        }}\n                    >\n                        {chart}\n                    </Row>\n                    <Row>\n                        <TaskTable></TaskTable>\n                    </Row>\n                </Container>\n            );\n        } else return <SignInSignUpRouter></SignInSignUpRouter>;\n    }\n}\nfunction mapDispatchToProps(dispatch, props) {\n    return {\n        addTaskAction: (task) => {\n            dispatch(Action.addTask(task));\n        },\n        closeFormAction: () => {\n            dispatch(Action.closeForm());\n        },\n        setNewTask: (task) => {\n            dispatch(Action.setNewTask(task));\n        },\n        updateChart: () => {\n            dispatch(Action.resetChart());\n        },\n        ToggleLogin: () => {\n            dispatch(Action.toggleLogin());\n        },\n        IsLogin: () => {\n            dispatch(Action.isLogin());\n        },\n        NotLogin: () => {\n            dispatch(Action.notLogin());\n        },\n        updateUser: (username) => {\n            dispatch(Action.updateUser(username));\n        },\n    };\n}\nconst mapStateToProps = (state) => ({\n    isLogin: state.IsLogin,\n    showForm: state.ToggleForm,\n    showChart: state.ToggleChart,\n    userName: state.LoginUserName,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}